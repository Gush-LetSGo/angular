!function(t,M,F){"use strict";var Y="ht",P=t[Y],G=null,J=Math,n=J.PI,q=J.cos,K=J.sin,f=J.abs,l=J.max,H=J.sqrt,O=1e-5,y=P.Default,v=y.def,b=y.startAnim,a=y.createMatrix,k=y.transformVec,X=y.getInternal(),s=X.addMethod,T=X.superCall,C=X.toPointsArray,e=X.createNormals,E=X.toFloatArray,B=X.glMV,i=X.batchShape,p=X.createNodeMatrix,h=X.getFaceInfo,x=X.transformAppend,$=X.drawFaceInfo,d=X.createAnim,j=X.cube(),z=j.is,w=j.vs,o=j.uv,U=X.ui(),N=P.Node,g=P.Shape,D="h",A="v",u="front",R="back",L="left",S="right",r="top",W="bottom",Z="dw.expanded",Q=".expanded",V="dw.angle",m=".angle",_=function(H,G,_){v(Y+"."+H,G,_)},c=function(T,M,i){i?T.push(M.x,M.y):T.push(M.x,M.y,M.z)},I=[1,0,0],Vr=function(O,x,S,j){var u,k,D,m,l=0,h=[];if(j)for(u=j.length;u>l;l+=3)k=j[l],D=j[l+1],m=j[l+2],h.push(new Fr([new uk([x[3*k],x[3*k+1],x[3*k+2]],I,S?[S[2*k],S[2*k+1],0]:G),new uk([x[3*D],x[3*D+1],x[3*D+2]],I,S?[S[2*D],S[2*D+1],0]:G),new uk([x[3*m],x[3*m+1],x[3*m+2]],I,S?[S[2*m],S[2*m+1],0]:G)],O));else for(u=x.length;u>l;l+=3)k=l,D=l+1,m=l+2,h.push(new Fr([new uk([x[3*k],x[3*k+1],x[3*k+2]],I,S?[S[2*k],S[2*k+1],0]:G),new uk([x[3*D],x[3*D+1],x[3*D+2]],I,S?[S[2*D],S[2*D+1],0]:G),new uk([x[3*m],x[3*m+1],x[3*m+2]],I,S?[S[2*m],S[2*m+1],0]:G)],O));return h},Ok=[L,u,S,R,r,W],Sf=Ok.concat("csg"),up=[0,6,12,18,24,30],Qe=function(N,S,b){for(var F=p(N),x=[],f=0;6>f;f++)for(var c=Ok[f],r=up[f],J=b?S.getFaceUv(N,c):G,C=b?S.getFaceUvScale(N,c):G,h=b?S.getFaceUvOffset(N,c):G,l=0;2>l;l++){var n,K,e,B=z[r+3*l],R=z[r+3*l+1],D=z[r+3*l+2];if(b){if(J){var d=8*f;n=[J[2*B-d],J[2*B+1-d],0],K=[J[2*R-d],J[2*R+1-d],0],e=[J[2*D-d],J[2*D+1-d],0]}else n=[o[2*B],o[2*B+1],0],K=[o[2*R],o[2*R+1],0],e=[o[2*D],o[2*D+1],0];C&&(n[0]*=C[0],n[1]*=C[1],K[0]*=C[0],K[1]*=C[1],e[0]*=C[0],e[1]*=C[1]),h&&(n[0]+=h[0],n[1]+=h[1],K[0]+=h[0],K[1]+=h[1],e[0]+=h[0],e[1]+=h[1])}x.push(new Fr([new uk(k([w[3*B],w[3*B+1],w[3*B+2]],F),I,n),new uk(k([w[3*R],w[3*R+1],w[3*R+2]],F),I,K),new uk(k([w[3*D],w[3*D+1],w[3*D+2]],F),I,e)],N))}return Ec.$15n(x)},Xk=function(Q,v){var X,O=Q.data.getAttaches();if(O&&O.each(function(q){q instanceof Bg&&q.s("attach.operation")&&(X||(X=[]),X.push(q))}),X){var B;Ok.forEach(function(d){var L=Vr(d,Q[d].vs,Q[d].tuv);B=B?B.concat(L):L}),B=Ec.$15n(B),X.forEach(function(P){var e=P.s("attach.operation");B[e]&&(B=B[e](Qe(P,Q.gv,Q.csg.tuv)))}),Ok.forEach(function(t){t=Q[t],t.vs=[],t.tuv&&(t.tuv=[])}),B.$19n().forEach(function(J){var R=J.$10n;if(R instanceof Bg){if(R.s("attach.cull"))return;R="csg"}for(var w=Q[R],r=w.vs,O=w.tuv,W=J.$9n,X=2;X<W.length;X++)c(r,W[0].$24n),c(r,W[X-1].$24n),c(r,W[X].$24n),O&&(c(O,W[0].uv,!0),c(O,W[X-1].uv,!0),c(O,W[X].uv,!0))})}Sf.forEach(function(g){var i=Q[g];i.visible&&i.vs.length?(i.ns=e(i.vs),E(i,"vs"),E(i,"tuv")):delete Q[g]}),v&&(i(Q,G,v),Q.clear())};s(y,{createFrameModel:function(t,f,g,F){t=t==G?.07:t,f=f==G?t:f,g=g==G?t:g,F=F?F:{};var v=F.top,e=F.bottom,j=F.left,O=F.right,Q=F.front,o=F.back,x=[],X=[];return Q===!0?(x.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),X.push(0,0,0,1,1,1,1,1,1,0,0,0)):Q===!1||(x.push(-.5,.5,.5,-.5,-.5,.5,-.5+t,-.5,.5,-.5+t,-.5,.5,-.5+t,.5,.5,-.5,.5,.5,.5-t,.5,.5,.5-t,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-t,.5,.5,-.5+t,.5,.5,-.5+t,.5-f,.5,.5-t,.5-f,.5,.5-t,.5-f,.5,.5-t,.5,.5,-.5+t,.5,.5,-.5+t,-.5+f,.5,-.5+t,-.5,.5,.5-t,-.5,.5,.5-t,-.5,.5,.5-t,-.5+f,.5,-.5+t,-.5+f,.5),X.push(0,0,0,1,t,1,t,1,t,0,0,0,1-t,0,1-t,1,1,1,1,1,1,0,1-t,0,t,0,t,f,1-t,f,1-t,f,1-t,0,t,0,t,1-f,t,1,1-t,1,1-t,1,1-t,1-f,t,1-f)),o===!0?(x.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),X.push(1,0,0,1,1,1,0,1,1,0,0,0)):o===!1||(x.push(-.5,.5,-.5,-.5+t,-.5,-.5,-.5,-.5,-.5,-.5+t,-.5,-.5,-.5,.5,-.5,-.5+t,.5,-.5,.5-t,.5,-.5,.5,-.5,-.5,.5-t,-.5,-.5,.5,-.5,-.5,.5-t,.5,-.5,.5,.5,-.5,-.5+t,.5,-.5,.5-t,.5-f,-.5,-.5+t,.5-f,-.5,.5-t,.5-f,-.5,-.5+t,.5,-.5,.5-t,.5,-.5,-.5+t,-.5+f,-.5,.5-t,-.5,-.5,-.5+t,-.5,-.5,.5-t,-.5,-.5,-.5+t,-.5+f,-.5,.5-t,-.5+f,-.5),X.push(1,0,1-t,1,1,1,1-t,1,1,0,1-t,0,t,0,0,1,t,1,0,1,t,0,0,0,1-t,0,t,f,1-t,f,t,f,1-t,0,t,0,1-t,1-f,t,1,1-t,1,t,1,1-t,1-f,t,1-f)),j===!0?(x.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),X.push(0,0,0,1,1,1,1,1,1,0,0,0)):j===!1||(x.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+g,-.5,-.5,-.5+g,-.5,.5,-.5+g,-.5,.5,-.5,-.5,.5,.5-g,-.5,-.5,.5-g,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-g,-.5,.5,-.5+g,-.5,.5-f,-.5+g,-.5,.5-f,.5-g,-.5,.5-f,.5-g,-.5,.5,.5-g,-.5,.5,-.5+g,-.5,-.5+f,-.5+g,-.5,-.5,-.5+g,-.5,-.5,.5-g,-.5,-.5,.5-g,-.5,-.5+f,.5-g,-.5,-.5+f,-.5+g),X.push(0,0,0,1,g,1,g,1,g,0,0,0,1-g,0,1-g,1,1,1,1,1,1,0,1-g,0,g,0,g,f,1-g,f,1-g,f,1-g,0,g,0,g,1-f,g,1,1-g,1,1-g,1,1-g,1-f,g,1-f)),O===!0?(x.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),X.push(1,0,0,1,1,1,0,1,1,0,0,0)):O===!1||(x.push(.5,.5,-.5,.5,-.5,-.5+g,.5,-.5,-.5,.5,-.5,-.5+g,.5,.5,-.5,.5,.5,-.5+g,.5,.5,.5-g,.5,-.5,.5,.5,-.5,.5-g,.5,-.5,.5,.5,.5,.5-g,.5,.5,.5,.5,.5,-.5+g,.5,.5-f,.5-g,.5,.5-f,-.5+g,.5,.5-f,.5-g,.5,.5,-.5+g,.5,.5,.5-g,.5,-.5+f,-.5+g,.5,-.5,.5-g,.5,-.5,-.5+g,.5,-.5,.5-g,.5,-.5+f,-.5+g,.5,-.5+f,.5-g),X.push(1,0,1-g,1,1,1,1-g,1,1,0,1-g,0,g,0,0,1,g,1,0,1,g,0,0,0,1-g,0,g,f,1-g,f,g,f,1-g,0,g,0,1-g,1-f,g,1,1-g,1,g,1,1-g,1-f,g,1-f)),v===!0?(x.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),X.push(1,1,1,0,0,0,0,0,0,1,1,1)):v===!1||(x.push(.5,.5,.5,.5,.5,-.5,.5-t,.5,-.5,.5-t,.5,-.5,.5-t,.5,.5,.5,.5,.5,-.5+t,.5,.5,-.5+t,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+t,.5,.5,.5-t,.5,.5,.5-t,.5,.5-g,-.5+t,.5,.5-g,-.5+t,.5,.5-g,-.5+t,.5,.5,.5-t,.5,.5,.5-t,.5,-.5+g,.5-t,.5,-.5,-.5+t,.5,-.5,-.5+t,.5,-.5,-.5+t,.5,-.5+g,.5-t,.5,-.5+g),X.push(1,1,1,0,1-t,0,1-t,0,1-t,1,1,1,t,1,t,0,0,0,0,0,0,1,t,1,1-t,1,1-t,1-g,t,1-g,t,1-g,t,1,1-t,1,1-t,g,1-t,0,t,0,t,0,t,g,1-t,g)),e===!0?(x.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),X.push(1,0,0,1,1,1,0,1,1,0,0,0)):e===!1||(x.push(.5,-.5,.5,.5-t,-.5,-.5,.5,-.5,-.5,.5-t,-.5,-.5,.5,-.5,.5,.5-t,-.5,.5,-.5+t,-.5,.5,-.5,-.5,-.5,-.5+t,-.5,-.5,-.5,-.5,-.5,-.5+t,-.5,.5,-.5,-.5,.5,.5-t,-.5,.5,-.5+t,-.5,.5-g,.5-t,-.5,.5-g,-.5+t,-.5,.5-g,.5-t,-.5,.5,-.5+t,-.5,.5,.5-t,-.5,-.5+g,-.5+t,-.5,-.5,.5-t,-.5,-.5,-.5+t,-.5,-.5,.5-t,-.5,-.5+g,-.5+t,-.5,-.5+g),X.push(1,0,1-t,1,1,1,1-t,1,1,0,1-t,0,t,0,0,1,t,1,0,1,t,0,0,0,1-t,0,t,g,1-t,g,t,g,1-t,0,t,0,1-t,1-g,t,1,1-t,1,t,1,1-t,1-g,t,1-g)),{vs:x,uv:X}}}),s(P.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":F,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":n/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Ok.forEach(function(E){var h={};h[E+Q]=!1,h[E+".toggleable"]=!1,h[E+".axis"]=L,h[E+".start"]=0,h[E+".end"]=n/2,h[E+m]=0,s(P.Style,h,!0)});var Ec=function(){this.$4n=[]};Ec.$15n=function(a){var H=new Ec;return H.$4n=a,H},Ec.prototype={clone:function(){var v=new Ec;return v.$4n=this.$4n.map(function(B){return B.clone()}),v},$19n:function(){return this.$4n},union:function(O){var Q=new oj(this.clone().$4n),U=new oj(O.clone().$4n);return Q.$3n(U),U.$3n(Q),U.$6n(),U.$3n(Q),U.$6n(),Q.$7n(U.$2n()),Ec.$15n(Q.$2n())},subtract:function(a){var V=new oj(this.clone().$4n),A=new oj(a.clone().$4n);return V.$6n(),V.$3n(A),A.$3n(V),A.$6n(),A.$3n(V),A.$6n(),V.$7n(A.$2n()),V.$6n(),Ec.$15n(V.$2n())},intersect:function(u){var g=new oj(this.clone().$4n),h=new oj(u.clone().$4n);return g.$6n(),h.$3n(g),h.$6n(),g.$3n(h),h.$3n(g),g.$7n(h.$2n()),g.$6n(),Ec.$15n(g.$2n())},inverse:function(){var V=this.clone();return V.$4n.map(function(I){I.flip()}),V}},Ec.cube=function(L){L=L||{};var J=new Vg(L.center||[0,0,0]),W=L.radius?L.radius.length?L.radius:[L.radius,L.radius,L.radius]:[1,1,1];return Ec.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(r){return new Fr(r[0].map(function(O){var a=new Vg(J.x+W[0]*(2*!!(1&O)-1),J.y+W[1]*(2*!!(2&O)-1),J.z+W[2]*(2*!!(4&O)-1));return new uk(a,new Vg(r[1]))}))}))},Ec.sphere=function(Z){function d(m,h){m*=2*n,h*=n;var r=new Vg(q(m)*K(h),q(h),K(m)*K(h));M.push(new uk(e.$20n(r.$21n(Q)),r))}Z=Z||{};for(var M,e=new Vg(Z.center||[0,0,0]),Q=Z.radius||1,s=Z.slices||16,B=Z.stacks||8,x=[],p=0;s>p;p++)for(var F=0;B>F;F++)M=[],d(p/s,F/B),F>0&&d((p+1)/s,F/B),B-1>F&&d((p+1)/s,(F+1)/B),d(p/s,(F+1)/B),x.push(new Fr(M));return Ec.$15n(x)},Ec.cylinder=function(k){function b(k,E,u){var D=2*E*n,t=r.$21n(q(D)).$20n(i.$21n(K(D))),C=Q.$20n(J.$21n(k)).$20n(t.$21n(o)),S=t.$21n(1-f(u)).$20n(P.$21n(u));return new uk(C,S)}k=k||{};for(var Q=new Vg(k.start||[0,-1,0]),V=new Vg(k.end||[0,1,0]),J=V.$13n(Q),o=k.radius||1,R=k.slices||16,P=J.$14n(),H=f(P.y)>.5,r=new Vg(H,!H,0).$12n(P).$14n(),i=r.$12n(P).$14n(),L=new uk(Q,P.$11n()),$=new uk(V,P.$14n()),U=[],c=0;R>c;c++){var l=c/R,T=(c+1)/R;U.push(new Fr([L,b(0,l,-1),b(0,T,-1)])),U.push(new Fr([b(0,T,0),b(0,l,0),b(1,l,0),b(1,T,0)])),U.push(new Fr([$,b(1,T,1),b(1,l,1)]))}return Ec.$15n(U)};var Vg=function(Z,j,q){var W=this;3==arguments.length?(W.x=Z,W.y=j,W.z=q):"x"in Z?(W.x=Z.x,W.y=Z.y,W.z=Z.z):(W.x=Z[0],W.y=Z[1],W.z=Z[2])};Vg.prototype={clone:function(){return new Vg(this.x,this.y,this.z)},$11n:function(){return new Vg(-this.x,-this.y,-this.z)},$20n:function(l){return new Vg(this.x+l.x,this.y+l.y,this.z+l.z)},$13n:function(i){return new Vg(this.x-i.x,this.y-i.y,this.z-i.z)},$21n:function(D){return new Vg(this.x*D,this.y*D,this.z*D)},$16n:function($){return new Vg(this.x/$,this.y/$,this.z/$)},$23n:function($){return this.x*$.x+this.y*$.y+this.z*$.z},lerp:function(t,m){return this.$20n(t.$13n(this).$21n(m))},length:function(){return H(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(K){var C=this;return new Vg(C.y*K.z-C.z*K.y,C.z*K.x-C.x*K.z,C.x*K.y-C.y*K.x)}};var uk=function(b,W,n){var J=this;J.$24n=new Vg(b),J.$22n=new Vg(W),J.uv=n?new Vg(n):null};uk.prototype={clone:function(){var N=this;return new uk(N.$24n.clone(),N.$22n.clone(),N.uv?N.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(r,x){var Y=this;return new uk(Y.$24n.lerp(r.$24n,x),Y.$22n.lerp(r.$22n,x),Y.uv?Y.uv.lerp(r.uv,x):null)}};var se=function(b,y){this.$22n=b,this.w=y};se.$17n=function(v,R,B){var x=R.$13n(v).$12n(B.$13n(v)).$14n();return new se(x,x.$23n(v))},se.prototype={clone:function(){return new se(this.$22n.clone(),this.w)},flip:function(){var I=this;I.$22n=I.$22n.$11n(),I.w=-I.w},$5n:function(V,M,P,y,l){for(var g=this,e=0,K=1,A=2,T=3,G=0,u=[],x=0;x<V.$9n.length;x++){var W=g.$22n.$23n(V.$9n[x].$24n)-g.w,s=-O>W?A:W>O?K:e;G|=s,u.push(s)}switch(G){case e:(g.$22n.$23n(V.$8n.$22n)>0?M:P).push(V);break;case K:y.push(V);break;case A:l.push(V);break;case T:for(var R=[],C=[],x=0;x<V.$9n.length;x++){var B=(x+1)%V.$9n.length,_=u[x],H=u[B],f=V.$9n[x],p=V.$9n[B];if(_!=A&&R.push(f),_!=K&&C.push(_!=A?f.clone():f),(_|H)==T){var W=(g.w-this.$22n.$23n(f.$24n))/g.$22n.$23n(p.$24n.$13n(f.$24n)),b=f.$18n(p,W);R.push(b),C.push(b.clone())}}R.length>=3&&y.push(new Fr(R,V.$10n)),C.length>=3&&l.push(new Fr(C,V.$10n))}}};var Fr=function(G,x){var q=this;q.$9n=G,q.$10n=x,q.$8n=se.$17n(G[0].$24n,G[1].$24n,G[2].$24n)};Fr.prototype={clone:function(){var B=this.$9n.map(function(Q){return Q.clone()});return new Fr(B,this.$10n)},flip:function(){this.$9n.reverse().map(function(O){O.flip()}),this.$8n.flip()}};var oj=function(U){var Y=this;Y.$8n=null,Y.front=null,Y.back=null,Y.$4n=[],U&&Y.$7n(U)};oj.prototype={clone:function(){var o=this,E=new oj;return E.$8n=o.$8n&&o.$8n.clone(),E.front=o.front&&o.front.clone(),E.back=o.back&&o.back.clone(),E.$4n=o.$4n.map(function(n){return n.clone()}),E},$6n:function(){for(var Z=this,$=0;$<Z.$4n.length;$++)Z.$4n[$].flip();Z.$8n.flip(),Z.front&&Z.front.$6n(),Z.back&&Z.back.$6n();var t=Z.front;Z.front=Z.back,Z.back=t},$1n:function(Y){var M=this;if(!M.$8n)return Y.slice();for(var S=[],P=[],z=0;z<Y.length;z++)M.$8n.$5n(Y[z],S,P,S,P);return M.front&&(S=M.front.$1n(S)),P=M.back?M.back.$1n(P):[],S.concat(P)},$3n:function(r){var Z=this;Z.$4n=r.$1n(Z.$4n),Z.front&&Z.front.$3n(r),Z.back&&Z.back.$3n(r)},$2n:function(){var C=this,k=C.$4n.slice();return C.front&&(k=k.concat(C.front.$2n())),C.back&&(k=k.concat(C.back.$2n())),k},$7n:function(y){var U=this;if(y.length){U.$8n||(U.$8n=y[0].$8n.clone());for(var W=[],S=[],x=0;x<y.length;x++)this.$8n.$5n(y[x],U.$4n,U.$4n,W,S);W.length&&(U.front||(U.front=new oj),this.front.$7n(W)),S.length&&(U.back||(U.back=new oj),U.back.$7n(S))}}};var Xg="symbol",kf=P.Symbol=function(e,t,Z){var p=this;T(kf,p),p.s3(20,20,20),p.s({"all.visible":!1,shape:"rect"}),p.setIcon(e,t,Z)};_("Symbol",N,{setIcon:function(q,Q,P){var G,a=this;return kf.superClass.setIcon.call(a,q),q?(G={for3d:!0,face:"center",position:44,names:[q]},P&&(G.transaprent=!0),Q&&(G.autorotate=Q),a.addStyleIcon(Xg,G)):a.removeStyleIcon(Xg),a.setWidth(X.getImageWidth(y.getImage(q),a)||20),G}});var Bg=P.CSGNode=function(){T(Bg,this),this.s({shape:"rect","attach.thickness":1.001})},rl={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};_("CSGNode",N,{_22Q:function(){return _f},onPropertyChanged:function(B){var g=this,h=g.getHost();Bg.superClass.onPropertyChanged.call(g,B),rl[B.property]&&(h instanceof $l||h instanceof Bg)&&h.fp("csgNodeChange",!0,!1)}});var _f=function(X,u){T(_f,this,[X,u])};v(_f,U.Node3dUI,{_80o:function(Q,W,t){var D=this;D._shape3d?_f.superClass._80o.call(D,Q,W,t):(B(D.gv),Sf.forEach(function(L){$(D,Q,W,D[L],t)}))},validate:function(K,E){var _=this,f=_.gv,r=_.data;if(r.s("shape3d"))return _f.superClass.validate.call(_,K,E),_._shape3d=!0,void 0;_._shape3d=!1;var e=p(r,f.getMat(r)),s=K&&K.uv;_.vf2("csg",s);for(var u=0;6>u;u++)for(var I=Ok[u],X=up[u],m=_.vf2(I,s,E),W=m.mat||e,t=m.vs,G=m.uv,Y=m.tuv,L=0;2>L;L++){var P=z[X+3*L],O=z[X+3*L+1],M=z[X+3*L+2];if(x(t,W,[w[3*P],w[3*P+1],w[3*P+2]]),x(t,W,[w[3*O],w[3*O+1],w[3*O+2]]),x(t,W,[w[3*M],w[3*M+1],w[3*M+2]]),Y)if(G){var y=8*u;Y.push(G[2*P-y],G[2*P+1-y],G[2*O-y],G[2*O+1-y],G[2*M-y],G[2*M+1-y])}else Y.push(o[2*P],o[2*P+1],o[2*O],o[2*O+1],o[2*M],o[2*M+1])}Xk(_,K,E)},vf2:function(Y,o,H){var e,b=this,s=b.gv.getFaceVisible(b.data,Y);return e=h(b,Y,H),e.vs=[],e.tuv=s&&(e.texture||o)?[]:G,e.visible=s,e}});var $l=P.CSGShape=function(){var n=this;T($l,n),n.s({"shape.background":G,"shape.border.width":8}),n.setTall(240),n.setElevation(120),n.setThickness(14)};_("CSGShape",g,{IRotatable:!1,_22Q:function(){return Ql},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Ql=function(D,d){T(Ql,this,[D,d])};v(Ql,U.Shape3dUI,{_80o:function(J,y,F){var Y=this;Y.undrawable||(B(Y.gv),Sf.forEach(function(h){$(Y,J,y,Y[h],F)}))},validate:function(t,i){var R=this,J=R.data,V=J.getPoints();if(R.undrawable=V.size()<2)return R.clear(),void 0;var Q=J.isClosePath(),Y=l(J._thickness/2,O),A=C(V,G,G,Q);Sf.forEach(function(N){R.vf(N,t&&t.uv,!0,i)}),Q&&(R.left.visible=!1,R.right.visible=!1),R._12O(A,Y),R._20Q(A),Xk(R,t,i)}});var fk=P.DoorWindow=function(){var O=this;T(fk,O),O.setElevation(100),O.s3(100,200,14)};_("DoorWindow",Bg,{IDoorWindow:!0,toggle:function(G){this.setExpanded(!this.s(Z),G)},isExpanded:function(){return this.s(Z)},setExpanded:function(q,m){var v,E=this,_=E.$25n,D=E.getDataModel(),Y=E.s(Z);if(D&&(v=D.getHistoryManager()),_&&(_.stop(!0),delete E.$25n),Y!==q){v&&v.beginInteraction();var $=q?E.s("dw.end"):E.s("dw.start");E.s(Z,q),m=d(m),m?(Y=E.s(V),m.action=function(_){E.s(V,Y+($-Y)*_)},m.finishFunc=function(){v&&v.endInteraction()},E.$25n=b(m)):(E.s(V,$),v&&v.endInteraction())}},getMat:function(){var U=this,b=U.s("dw.s3"),k=U.s("dw.t3"),e=U.s("dw.flip"),R=U.s(V);if(b||R||k||e){var Y=[];if(e&&Y.push({r3:[0,n,0]}),b&&Y.push({s3:b}),R){b=U.s3();var c=U.s("dw.axis"),u=b[0]/2,d=b[1]/2;b[2]/2,c===L?Y.push({t3:[u,0,0]},{r3:[0,-R,0]},{t3:[-u,0,0]}):c===S?Y.push({t3:[-u,0,0]},{r3:[0,R,0]},{t3:[u,0,0]}):c===r?Y.push({t3:[0,-d,0]},{r3:[-R,0,0]},{t3:[0,d,0]}):c===W?Y.push({t3:[0,d,0]},{r3:[R,0,0]},{t3:[0,-d,0]}):c===A?Y.push({r3:[0,R,0]}):c===D&&Y.push({r3:[R,0,0]})}return k&&Y.push({t3:k}),a(Y)}return G}});var mj=P.CSGBox=function(){var X=this;T(mj,X),X.setElevation(100),X.s3(100,200,100)};_("CSGBox",Bg,{ICSGBox:!0,toggleFace:function(V,P){this.setFaceExpanded(V,!this.s(V+Q),P)},isFaceExpanded:function(i){return this.s(i+Q)},setFaceExpanded:function(o,y,S){var O=this,u=O.$25n,k=O.s(o+Q);if(u&&(u.stop(!0),delete O.$25n),k!==y){var V=y?O.s(o+".end"):O.s(o+".start");O.s(o+Q,y),S=d(S),S?(k=O.s(o+m),S.action=function(E){O.s(o+m,k+(V-k)*E)},O.$25n=b(S)):O.s(o+m,V)}},getFaceMat:function(l){var z=this,O=z.s(l+m);if(!O)return G;var d=z.s(l+".axis"),E=z.s3(),P=E[0]/2,v=E[1]/2,o=E[2]/2,h=[];return l===u&&(d===L?h.push({t3:[P,0,-o]},{r3:[0,-O,0]},{t3:[-P,0,o]}):d===S?h.push({t3:[-P,0,-o]},{r3:[0,O,0]},{t3:[P,0,o]}):d===r?h.push({t3:[0,-v,-o]},{r3:[-O,0,0]},{t3:[0,v,o]}):d===W?h.push({t3:[0,v,-o]},{r3:[O,0,0]},{t3:[0,-v,o]}):d===A?h.push({t3:[0,0,-o]},{r3:[0,O,0]},{t3:[0,0,o]}):d===D&&h.push({t3:[0,0,-o]},{r3:[O,0,0]},{t3:[0,0,o]})),l===R&&(d===L?h.push({t3:[-P,0,o]},{r3:[0,-O,0]},{t3:[P,0,-o]}):d===S?h.push({t3:[P,0,o]},{r3:[0,O,0]},{t3:[-P,0,-o]}):d===r?h.push({t3:[0,-v,o]},{r3:[O,0,0]},{t3:[0,v,-o]}):d===W?h.push({t3:[0,v,o]},{r3:[-O,0,0]},{t3:[0,-v,-o]}):d===A?h.push({t3:[0,0,o]},{r3:[0,O,0]},{t3:[0,0,-o]}):d===D&&h.push({t3:[0,0,o]},{r3:[O,0,0]},{t3:[0,0,-o]})),l===L&&(d===L?h.push({t3:[P,0,o]},{r3:[0,-O,0]},{t3:[-P,0,-o]}):d===S?h.push({t3:[P,0,-o]},{r3:[0,O,0]},{t3:[-P,0,o]}):d===r?h.push({t3:[P,-v,0]},{r3:[0,0,-O]},{t3:[-P,v,0]}):d===W?h.push({t3:[P,v,0]},{r3:[0,0,O]},{t3:[-P,-v,0]}):d===A?h.push({t3:[P,0,0]},{r3:[0,O,0]},{t3:[-P,0,0]}):d===D&&h.push({t3:[P,0,0]},{r3:[0,0,O]},{t3:[-P,0,0]})),l===S&&(d===L?h.push({t3:[-P,0,-o]},{r3:[0,-O,0]},{t3:[P,0,o]}):d===S?h.push({t3:[-P,0,o]},{r3:[0,O,0]},{t3:[P,0,-o]}):d===r?h.push({t3:[-P,-v,0]},{r3:[0,0,O]},{t3:[P,v,0]}):d===W?h.push({t3:[-P,v,0]},{r3:[0,0,-O]},{t3:[P,-v,0]}):d===A?h.push({t3:[-P,0,0]},{r3:[0,O,0]},{t3:[P,0,0]}):d===D&&h.push({t3:[-P,0,0]},{r3:[0,0,O]},{t3:[P,0,0]})),l===r&&(d===L?h.push({t3:[P,-v,0]},{r3:[0,0,O]},{t3:[-P,v,0]}):d===S?h.push({t3:[-P,-v,0]},{r3:[0,0,-O]},{t3:[P,v,0]}):d===r?h.push({t3:[0,-v,o]},{r3:[-O,0,0]},{t3:[0,v,-o]}):d===W?h.push({t3:[0,-v,-o]},{r3:[O,0,0]},{t3:[0,v,o]}):d===A?h.push({t3:[0,-v,0]},{r3:[0,0,O]},{t3:[0,v,0]}):d===D&&h.push({t3:[0,-v,0]},{r3:[O,0,0]},{t3:[0,v,0]})),l===W&&(d===L?h.push({t3:[P,v,0]},{r3:[0,0,-O]},{t3:[-P,-v,0]}):d===S?h.push({t3:[-P,v,0]},{r3:[0,0,O]},{t3:[P,-v,0]}):d===r?h.push({t3:[0,v,-o]},{r3:[-O,0,0]},{t3:[0,-v,o]}):d===W?h.push({t3:[0,v,o]},{r3:[O,0,0]},{t3:[0,-v,-o]}):d===A?h.push({t3:[0,v,0]},{r3:[0,0,O]},{t3:[0,-v,0]}):d===D&&h.push({t3:[0,v,0]},{r3:[O,0,0]},{t3:[0,-v,0]})),a(h)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);